<h1><%=title%></h1>
<div class = "text-end mb-2" id="buttons">
    <a href="/posts/update?pid=<%=post.pid%>" class="btn btn-primary btn-sm update">수정</a>
    <button class="btn btn-danger btn-sm delete">삭제</button>
</div>
<div>
    <div class="card p-3">
        <div>[<%=post.pid%>]<%=post.title%></div>
        <hr>
        <div><%=post.contents%></div>
        
        <div class="card-footer" style="font-size:12px; color:gray">
            <span>작성자: <%=post.writer%></span>
            <span class="ms-3">작성일: <%=post.fdate%></span>
        </div>
    </div>
    
</div>


<script>
    //작성자가 올린 게시글의 수정, 삭제 버튼이 보이게끔하는 스크립트
    const writer="<%=post.writer%>";
    if(uid==writer){
        $("#buttons").show();
    }else{
        $("#buttons").hide();
    }

    //삭제버튼을 클릭한 경우
    $("#buttons").on("click", ".delete", function(){
        const pid="<%=post.pid%>";
        if(confirm(`${pid}번 게시글을 삭제하실래요?`)){
            //삭제작업
            location.href="/posts/delete?pid=" + pid; 
        }

    })

</script>